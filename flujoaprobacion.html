<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Inter%3Awght%40400%3B500%3B600%3B700%3B900&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <title>MineSafe - Flujo de Habilitación de Conductor</title>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
        .material-icons {
            font-family: 'Material Icons'; font-weight: normal; font-style: normal;
            font-size: 24px; display: inline-block; line-height: 1;
            text-transform: none; letter-spacing: normal; word-wrap: normal;
            white-space: nowrap; direction: ltr;
            -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
            -moz-osx-font-smoothing: grayscale; font-feature-settings: 'liga';
        }
        /* Estilos para las líneas de conexión y etapas */
        .flow-stage-container {
            position: relative;
            padding-left: 40px; /* Espacio para el ícono y la línea */
        }
        .flow-stage-container:not(:last-child)::before {
            content: '';
            position: absolute;
            left: 11px; /* Alineado con el centro del ícono de estado */
            top: 32px;  /* Inicio de la línea, debajo del ícono */
            bottom: -16px; /* Extender hasta la siguiente etapa, ajusta según el espacio */
            width: 2px;
            background-color: #e2e8f0; /* slate-200 */
        }
        .flow-stage-icon {
            position: absolute;
            left: 0;
            top: 0;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-slate-100" style='font-family: Inter, "Noto Sans", sans-serif;'>
    <div class="relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            <!-- Contenedor para el navbar estandarizado -->
            <div id="navbar-container"></div>

            <main class="flex-1 px-6 py-8 md:px-10 lg:px-12">
                <div class="max-w-3xl mx-auto">
                    <!-- Breadcrumbs -->
                    <nav aria-label="Breadcrumb" class="mb-6">
                        <ol class="flex items-center gap-1.5 text-sm text-slate-500">
                            <li><a href="#" class="hover:text-blue-600 transition-colors">Panel de Control</a></li>
                            <li><span class="material-icons text-base">chevron_right</span></li>
                            <li><a href="#" class="hover:text-blue-600 transition-colors">Conductores</a></li>
                            <li><span class="material-icons text-base">chevron_right</span></li>
                            <li class="font-medium text-slate-700" aria-current="page">Flujo de Habilitación</li>
                        </ol>
                    </nav>

                    <!-- Encabezado del Flujo -->
                    <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
                        <div class="flex flex-col sm:flex-row justify-between items-start gap-4">
                            <div>
                                <h1 class="text-2xl font-bold text-slate-800">Flujo de Habilitación de Conductor</h1>
                                <p class="text-slate-600 mt-1">Solicitud para: <span class="font-medium text-slate-700">Juan Alberto Pérez Gómez (DNI: 78945612)</span></p>
                                <p class="text-sm text-slate-500">Empresa Contratista: <span class="font-medium">Servicios Mineros Omega S.A.C.</span></p>
                            </div>
                            <div class="mt-2 sm:mt-0">
                                <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold bg-blue-100 text-blue-700 border border-blue-200">
                                    <span class="material-icons text-lg">hourglass_top</span> En Proceso
                                </span>
                                <!-- Otros estados generales:
                                <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200">
                                    <span class="material-icons text-lg">check_circle</span> Aprobado
                                </span>
                                <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold bg-red-100 text-red-700 border border-red-200">
                                    <span class="material-icons text-lg">cancel</span> Rechazado
                                </span>
                                 -->
                            </div>
                        </div>
                        <div class="mt-4 pt-4 border-t border-slate-200 text-sm">
                            <p class="text-slate-600">Riesgo Crítico Asociado: <span class="font-medium text-slate-700">RC10 - Pérdida de Control de Vehículos/Conductores</span></p>
                        </div>
                    </div>

                    <!-- Flujo de Aprobación Vertical -->
                    <div class="space-y-8">
                        <!-- Etapa 1: Contratista -->
                        <div class="flow-stage-container">
                            <div class="flow-stage-icon">
                                <div class="flex items-center justify-center size-6 rounded-full bg-green-500 text-white ring-4 ring-green-100">
                                    <span class="material-icons text-sm">check</span>
                                </div>
                            </div>
                            <div class="bg-white p-5 rounded-lg shadow-md border border-slate-200 ml-2">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="text-lg font-semibold text-slate-700">1. Verificación Contratista</h3>
                                    <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-700">Aprobado</span>
                                </div>
                                <p class="text-sm text-slate-600">Validador: <span class="font-medium">María Rodríguez (Gerente de Operaciones - Omega SAC)</span></p>
                                <p class="text-sm text-slate-500">Fecha: 25/07/2024 - 09:15 AM</p>
                                <div class="mt-2 pt-2 border-t border-slate-100 text-xs text-slate-500">
                                    <p><span class="font-medium">Comentarios:</span> Documentación completa y conforme. Exámenes al día.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Etapa 2: Dueño del Riesgo (Codelco) -->
                        <div class="flow-stage-container">
                            <div class="flow-stage-icon">
                                <div class="flex items-center justify-center size-6 rounded-full bg-green-500 text-white ring-4 ring-green-100">
                                    <span class="material-icons text-sm">check</span>
                                </div>
                            </div>
                            <div class="bg-white p-5 rounded-lg shadow-md border border-slate-200 ml-2">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="text-lg font-semibold text-slate-700">2. Dueño del Riesgo (Codelco)</h3>
                                    <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-700">Aprobado</span>
                                </div>
                                <p class="text-sm text-slate-600">Validador: <span class="font-medium">Carlos Silva (Jefe de Seguridad Mina)</span></p>
                                <p class="text-sm text-slate-500">Fecha: 26/07/2024 - 11:30 AM</p>
                                <div class="mt-2 pt-2 border-t border-slate-100 text-xs text-slate-500">
                                    <p><span class="font-medium">Comentarios:</span> Cumple con los requisitos técnicos y de seguridad para RC10.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Etapa 3: Sponsor -->
                        <div class="flow-stage-container">
                            <div class="flow-stage-icon">
                                <div class="flex items-center justify-center size-6 rounded-full bg-blue-500 text-white ring-4 ring-blue-100">
                                    <span class="material-icons text-sm">hourglass_empty</span>
                                </div>
                            </div>
                            <div class="bg-white p-5 rounded-lg shadow-md border-2 border-blue-500 ml-2"> <!-- Resaltar etapa actual -->
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="text-lg font-semibold text-blue-700">3. Sponsor del Contrato</h3>
                                    <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-700">Pendiente</span>
                                </div>
                                <p class="text-sm text-slate-600">Validador Asignado: <span class="font-medium">Luisa Fernández (Gerente de Mantenimiento)</span></p>
                                <p class="text-sm text-slate-500">Fecha Límite Esperada: 29/07/2024</p>
                                <div class="mt-3 flex gap-2">
                                     <button class="flex-1 text-sm font-medium py-2 px-3 rounded-md bg-green-500 text-white hover:bg-green-600 transition">Aprobar</button>
                                     <button class="flex-1 text-sm font-medium py-2 px-3 rounded-md bg-red-500 text-white hover:bg-red-600 transition">Rechazar</button>
                                     <button class="text-sm font-medium py-2 px-3 rounded-md bg-slate-200 text-slate-700 hover:bg-slate-300 transition">Reasignar</button>
                                </div>
                            </div>
                        </div>

                        <!-- Etapa 4: VP -->
                        <div class="flow-stage-container">
                             <div class="flow-stage-icon">
                                <div class="flex items-center justify-center size-6 rounded-full bg-slate-400 text-white ring-4 ring-slate-100">
                                    <span class="material-icons text-sm">schedule</span>
                                </div>
                            </div>
                            <div class="bg-white p-5 rounded-lg shadow-md border border-slate-200 ml-2 opacity-70"> <!-- Opacidad para etapas futuras no activas -->
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="text-lg font-semibold text-slate-700">4. Vicepresidencia de Operaciones</h3>
                                    <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-slate-100 text-slate-600">No Iniciado</span>
                                </div>
                                <p class="text-sm text-slate-600">Validador Asignado: <span class="font-medium">Roberto Valdivia (VP Operaciones)</span></p>
                                <p class="text-sm text-slate-500">Esperando etapas previas.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Historial de Cambios y Auditoría -->
                    <div class="mt-10 bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-lg font-semibold text-slate-700 mb-3">Historial de Cambios</h3>
                        <ul class="space-y-2 text-xs text-slate-500">
                            <li><span class="font-medium text-slate-600">26/07/2024 11:30 AM:</span> Aprobado por Dueño del Riesgo (Carlos Silva).</li>
                            <li><span class="font-medium text-slate-600">25/07/2024 09:15 AM:</span> Aprobado por Contratista (María Rodríguez).</li>
                            <li><span class="font-medium text-slate-600">24/07/2024 03:00 PM:</span> Solicitud de habilitación iniciada por Admin Contratista.</li>
                        </ul>
                    </div>

                </div>
            </main>

            <!-- Contenedor para el footer estandarizado -->
            <div id="footer-container"></div>
        </div>
    </div>
    <!-- Script para cargar componentes estandarizados -->
    <script src="js/components.js"></script>
</body>
</html>